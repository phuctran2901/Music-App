(this["webpackJsonpmusic-app"]=this["webpackJsonpmusic-app"]||[]).push([[0],{33:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){},44:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a(2),s=a.n(n),i=a(10),o=a.n(i),r=(a(33),a(27)),l=a(19),u=a.n(l),d=a(22),j=a(5),b=(a(35),a(23)),p=a(17);a(37),a(48);p.a.initializeApp({apiKey:"AIzaSyCGVBrQL0JASeREFYX0PHFbsgHo70YBZr0",authDomain:"music-app-8aad0.firebaseapp.com",databaseURL:"https://music-app-8aad0.firebaseio.com",projectId:"music-app-8aad0",storageBucket:"music-app-8aad0.appspot.com",messagingSenderId:"555655083886",appId:"1:555655083886:web:1a2323f561d76f292c737f",measurementId:"G-N9HWNZERJ1"});var h=p.a.storage(),g=p.a.database(),m=a(14),O=a(12),f=(a(41),a(9)),v=a(0);function x(e){var t=Object(n.useState)(null),a=Object(j.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)(null),r=Object(j.a)(o,2),l=r[0],u=r[1],d=Object(n.useState)(null),p=Object(j.a)(d,2),x=p[0],N=p[1],C=Object(n.useState)(null),k=Object(j.a)(C,2),S=k[0],y=k[1],w=Object(n.useState)(null),P=Object(j.a)(w,2),U=P[0],B=P[1],I=Object(n.useState)(null),A=Object(j.a)(I,2),F=A[0],T=A[1],z=Object(n.useState)(""),H=Object(j.a)(z,2),L=H[0],M=H[1],R=Object(n.useState)(""),E=Object(j.a)(R,2),D=E[0],V=E[1],J=e.toggleFormUpload,_=e.handleUploadSong,G=e.handleToggleFormUpload,Y=function(e){"fileAudio"===e.target.name&&i(e.target.files[0]),"fileImage"===e.target.name&&u(e.target.files[0])},Z=function(e){"audioName"===e.target.name?V(e.target.value):M(e.target.value)};return Object(c.jsxs)("div",{className:"form-upload ".concat(J?"open":""),children:[Object(c.jsx)("div",{onClick:function(){G(!1)},children:Object(c.jsx)(v.b.Provider,{value:{className:"files-close",size:30},children:Object(c.jsx)(O.a,{})})}),Object(c.jsx)("p",{className:"files-title",children:"Upload Files"}),Object(c.jsxs)("div",{className:"files-audio",children:[Object(c.jsx)("span",{className:"files-name",children:"Audio"}),Object(c.jsx)("input",{type:"file",name:"fileAudio",accept:".mp3",className:"files-input",onChange:Y}),Object(c.jsx)("button",{className:"files-button",onClick:function(){s?h.ref("Audios/".concat(s.name)).put(s).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);B(t)}),(function(e){console.log("err",e)}),(function(){h.ref("Audios").child(s.name).getDownloadURL().then((function(e){N(e)}))})):Object(f.b)("Ch\u1ecdn file b\u1ea1n mu\u1ed1n up!",{position:"top-left",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:Object(c.jsx)(v.b.Provider,{value:{size:20,color:"#ffffff"},children:Object(c.jsx)(m.a,{})})}),Object(c.jsx)("div",{className:"progress",style:{height:"8px"},children:Object(c.jsx)("div",{className:"progress-bar progress-bar-striped ",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(U,"%")}})})]}),Object(c.jsxs)("div",{className:"files-image",children:[Object(c.jsx)("span",{className:"files-name",children:"Image"}),Object(c.jsx)("input",{accept:".jpg",type:"file",name:"fileImage",className:"files-input",onChange:Y}),Object(c.jsx)("button",{className:"files-button",onClick:function(){l?h.ref("Images/".concat(l.name)).put(l).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);T(t)}),(function(e){console.log("err",e)}),(function(){h.ref("Images").child(l.name).getDownloadURL().then((function(e){y(e)}))})):Object(f.b)("Ch\u1ecdn file b\u1ea1n mu\u1ed1n up!",{position:"top-left",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:Object(c.jsx)(v.b.Provider,{value:{size:20,color:"#ffffff"},children:Object(c.jsx)(m.a,{})})}),Object(c.jsx)("div",{className:"progress",style:{height:"8px",Backgroundcolor:"#56184d"},children:Object(c.jsx)("div",Object(b.a)({style:{backgroundColor:"#56184d"},className:"progress-bar progress-bar-striped",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"},"style",{width:"".concat(F,"%")}))})]}),Object(c.jsxs)("div",{className:"wrapper-upload",children:[Object(c.jsx)("input",{placeholder:"Artist Name",name:"artistName",className:"files-text",value:L,onChange:Z,type:"text"}),Object(c.jsx)("input",{placeholder:"Audio Name",onChange:Z,name:"audioName",value:D,className:"files-text",type:"text"}),Object(c.jsx)("button",{className:"files-button__upload",onClick:function(){var e=g.ref("Audios");s&&l?x&&S?D&&L?(e.push({src:x,image:S,name:D,artist:L}),_({src:x,image:S,name:D,artist:L}),f.b.success("Upload b\xe0i h\xe1t th\xe0nh c\xf4ng!",{position:"top-left",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),G(!1),M(""),V(""),B(0),T(0)):Object(f.b)("Vui l\xf2ng nh\u1eadp th\xf4ng tin b\xe0i h\xe1t!",{position:"top-left",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):Object(f.b)("T\u1ea3i file \u0111\xe3(ho\u1eb7c ch\u1edd t\u1ea3i file)!",{position:"top-left",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):Object(f.b)("Vui l\xf2ng up file!",{position:"top-left",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:"L\u01b0u l\u1ea1i"})]})]})}x.default={toggleFormUpload:!1,handleUploadSong:null,handleToggleFormUpload:null};var N=x;a(44);function C(e){var t=e.data,a=e.handleSaveIndex,n=e.active;return Object(c.jsx)("ul",{className:"song-list",children:t.map((function(e,t){return Object(c.jsxs)("li",{className:"song ".concat(t===n?"active":""),onClick:function(){return t=e.id,void(a&&a(t));var t},children:[Object(c.jsx)("img",{className:"song-img",src:e.image,alt:e.name}),Object(c.jsx)("div",{children:Object(c.jsx)("span",{className:"song-name-artist",children:"".concat(e.name," - ").concat(e.artist)})})]},e.id)}))})}C.default={data:[],handleSaveIndex:null,active:0};var k=C,S=a(26),y=a(20),w=a(24),P=(a(45),g.ref("Audios"));var U=function(){var e=Object(n.useRef)(),t=Object(n.useState)(!1),a=Object(j.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)(0),l=Object(j.a)(o,2),b=l[0],p=l[1],h=Object(n.useState)(0),g=Object(j.a)(h,2),x=g[0],C=g[1],U=Object(n.useState)(0),B=Object(j.a)(U,2),I=B[0],A=B[1],F=Object(n.useState)(0),T=Object(j.a)(F,2),z=T[0],H=T[1],L=Object(n.useState)(!0),M=Object(j.a)(L,2),R=M[0],E=M[1],D=Object(n.useState)(0),V=Object(j.a)(D,2),J=V[0],_=V[1],G=Object(n.useState)(!1),Y=Object(j.a)(G,2),Z=Y[0],K=Y[1],Q=Object(n.useState)([{src:"",image:"https://e1.pngegg.com/pngimages/893/102/png-clipart-iconlab-itunes-itunes-sunset-red-and-yellow-musical-note.png",title:"Vui l\xf2ng ch\u1edd...",artist:"Vui l\xf2ng ch\u1edd t\u1ea3i d\u1eef li\u1ec7u...",id:0}]),W=Object(j.a)(Q,2),X=W[0],q=W[1];Object(n.useEffect)((function(){var e=window.screen.width;function t(){return(t=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{P.once("value").then((function(e){var t=[],a=Object.keys(e.val()),c=Object.values(e.val());a.map((function(e,a){return c[a].id=e,t.push(c[a]),t})),q(t)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_(e),function(){t.apply(this,arguments)}()}),[]);var $=function(){E(!R)},ee=function(e){K(e)},te=function(){var t=X.length;I>=t-1?(A(0),H(0)):(A(I+1),H(I+1)),s&&(e.current.play(),i(!0))};return Object(c.jsxs)("div",{className:"container-w",children:[Object(c.jsx)(N,{toggleFormUpload:Z,handleToggleFormUpload:ee,handleUploadSong:function(e){var t=Object(r.a)(X);t.push(e),q(t)}}),Object(c.jsxs)("div",{children:[R?"":Object(c.jsx)("div",{onClick:$,children:Object(c.jsx)(v.b.Provider,{value:{size:40,color:"white",className:"icon-open active"},children:Object(c.jsx)(w.a,{})})}),Object(c.jsxs)("div",{className:"wrapper-audio",children:[Object(c.jsx)("img",{className:"audio-img ".concat(s?"active":""),src:X[I].image,alt:X[0].name}),Object(c.jsx)("p",{className:"audio-name",children:X[I].name}),Object(c.jsx)("p",{className:"audio-artist",children:X[I].artist}),Object(c.jsx)("audio",{ref:e,src:X[I].src,onLoadedData:function(){C(e.current.duration),s&&e.current.play()},onTimeUpdate:function(){p(e.current.currentTime)},onEnded:function(){te()}}),Object(c.jsx)("p",{className:"audio-time",children:function(){var e=Math.floor(b/60),t=Math.floor(b%60),a=Math.floor(x/60),c=Math.floor(x%60),n="".concat(e," : ").concat(t<10?"0".concat(t):"".concat(t)),s="".concat(a," : ").concat(c<10?"0".concat(c):"".concat(c));return"".concat(n," / ").concat(s)}()}),Object(c.jsxs)("div",{className:"audio-controls",children:[Object(c.jsx)("button",{className:"audio-button",onClick:function(){var t=X.length;I<=0?(A(t-1),H(t-1)):(A(I-1),H(I-1)),s&&(e.current.play(),i(!0))},children:Object(c.jsx)(v.b.Provider,{value:{size:40},children:Object(c.jsx)(y.b,{})})}),Object(c.jsx)("button",{className:"audio-button",onClick:function(){s?e.current.pause():e.current.play(),i(!s)},children:Object(c.jsx)(v.b.Provider,{value:{size:40},children:s?Object(c.jsx)(O.c,{}):Object(c.jsx)(O.d,{})})}),Object(c.jsx)("button",{className:"audio-button",onClick:te,children:Object(c.jsx)(v.b.Provider,{value:{size:40},children:Object(c.jsx)(y.a,{})})})]}),Object(c.jsx)(S.a,{axis:"x",xmin:0,x:b,xmax:x,onChange:function(t){var a=t.x;e.current.currentTime=a,p(a),s||(i(!0),e.current.play())},styles:{track:{backgroundColor:"#e3e3e3",height:"8px",width:"".concat(J-50*J/100,"px")},active:{backgroundColor:"black",height:"8px"},thumb:{width:"20px",height:"20px",backgroundColor:"#e183e3",borderRadius:"50px"}}})]}),Object(c.jsxs)("div",{className:"wrapper-song ".concat(R?"active":""),children:[Object(c.jsx)("div",{onClick:$,children:Object(c.jsx)(v.b.Provider,{value:{size:40,color:"white",className:"icon-close"},children:Object(c.jsx)(O.b,{})})}),Object(c.jsx)("p",{className:"title-song",children:"List Audio"}),Object(c.jsx)(k,{active:z,data:X,handleSaveIndex:function(e){var t=function(e,t){var a=-1;return t.forEach((function(t,c){t.id===e&&(a=c)})),a}(e,X);-1!==t&&(A(t),H(t))}}),Object(c.jsx)("button",{onClick:function(){return ee(!0)},className:"btn-upload",children:"Upload Song"}),Object(c.jsxs)("a",{href:"https://www.facebook.com/profile.php?id=100010467708316",className:"messenger",children:["B\xe1o l\u1ed7i t\u1ea1i ",Object(c.jsx)(m.b,{})]})]})]}),Object(c.jsx)(f.a,{})]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,51)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(U,{})}),document.getElementById("root")),B()}},[[47,1,2]]]);
//# sourceMappingURL=main.9e26d461.chunk.js.map